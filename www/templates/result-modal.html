<ion-modal-view ng-controller="ResultModal as modalctrl">
  <ion-header-bar class="bar-royal md-whiteframe-1dp">
    <button ng-click="modalctrl.hide()"
            class="button back-button buttons button-clear header-item">
      <i class="icon ion-android-arrow-back"></i>
    </button>
    <h1 class="title">Final Results</h1>
  </ion-header-bar>

  <div class="bar bar-subheader background-modal" layout="row">
    <div class="padding-top-10 text-align-right" flex="100">
      {{modalctrl.timeNow | date:'medium'}}
    </div>
  </div>

  <ion-content class="has-header padding background-modal">

    <div class="card padding text-align-center">
      <span class="md-headline color-black-054 col">Quiz Completed In</span>
      <div class="md-display-1">
        <strong>
          <span>{{::modalctrl.formatNumber(modalctrl.results.timetaken.minutes)}}</span>:<span>{{::modalctrl.formatNumber(modalctrl.results.timetaken.seconds)}}</span>
        </strong>
      </div>
    </div>

    <div class="card padding results-container col">
      <div class="circle-container md-whiteframe-1dp col-offset-20">
        <div class="md-display-3 royal">
          {{::modalctrl.results.getCorrectAnswers().percentage * 100}}%
        </div>
      </div>

      <div class="row padding-top-10 md-subhead">

        <p class=" text-align-center">
          <span class="md-headline color-black-054"><strong>{{::modalctrl.results.getCorrectAnswers().totalQuestions}}</strong></span>
          <span class="col color-black-087">Total Questions</span>
        </p>

        <span flex></span>

        <p class="text-align-center">
          <span class="md-headline color-black-054"><strong>{{::modalctrl.results.getCorrectAnswers().correctAnswer}}</strong></span>
          <span class="col color-black-087">Answered Correctly</span>
        </p>
      </div>

    </div>

    <div class="list card">
      <div class="item item-divider md-headline">
        Review All Questions
      </div>

      <div class="item item-icon-right"
        ng-repeat="question in ::modalctrl.results.resultData">
        <span class="sidebar"
              ng-class="{'in-correct': !question.answered.isCorrect,
                   'correct': question.answered.isCorrect
                  }">
        </span>
        <span>{{question.Question}}</span>
        <i class="button button-icon icon ion-android-open" ng-click="modalctrl.showDetail(question, $event)"></i>
      </div>
    </div>

  </ion-content>

</ion-modal-view>

